-- AlippHUB | Auto Walk Script - FIXED Key System + No Loading Stuck
-- Discord: dsc.gg/alipphub
-- Acrylic disabled biar ga loading lama!

local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

local CONFIG = {
    HubName = "AlippHUB",
    Subtitle = "Auto Walk",
    Discord = "dsc.gg/alipphub",
    ValidKeys = {"TESTKEY123", "DEMO2024", "RULLZSY2024", "alippvip123"}, -- Tambah key kamu di sini
    SaveKey = true
}

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local _G = {
    Verified = false,
    AutoWalk = false,
    AutoWalkLoop = false,
    AutoRespawn = false,
    EnableGodMode = false,
    WalkSpeed = 16,
    WalkSpeedEnabled = false,
    NoClip = false,
    Fly = false,
    HideNametag = false,
    FPSBooster = false
}

local function notify(title, message, duration)
    WindUI:Notify({Title = title, Content = message, Duration = duration or 3})
end

-- Save/Load Key
local function saveKey(key)
    if writefile then writefile("AlippHUB_Key.txt", key) end
end

local function loadKey()
    if isfile and isfile("AlippHUB_Key.txt") then
        return readfile("AlippHUB_Key.txt")
    end
    return nil
end

local function verifyKey(key)
    for _, valid in pairs(CONFIG.ValidKeys) do
        if key == valid then return true end
    end
    return false
end

-- Create Window dengan Acrylic FALSE biar instant!
local Window = WindUI:CreateWindow({
    Title = CONFIG.HubName .. " | Loading...",
    SubTitle = CONFIG.Subtitle,
    Acrylic = false  -- INI YANG BIKIN GA LOADING LAMA LAGI!
})

-- List semua hidden tabs
local hiddenTabs = {}

local function createAllTabs()
    -- Auto Walk Tab
    local TabAutoWalk = Window:Tab({Title = "Auto Walk", Icon = "walk"})
    table.insert(hiddenTabs, TabAutoWalk)
    
    TabAutoWalk:Section({Title = "FPS Booster"}):Toggle({
        Title = "Activate FPS Booster",
        Default = false,
        Callback = function(state)
            _G.FPSBooster = state
            settings().Rendering.QualityLevel = state and 1 or 10
        end
    })
    
    TabAutoWalk:Section({Title = "Nametag Menu"}):Toggle({
        Title = "Hide Nametag",
        Default = false,
        Callback = function(state)
            _G.HideNametag = state
            -- Logic hide nametag disini kalau mau
        end
    })
    
    TabAutoWalk:Section({Title = "Walk Speed Menu"}):Toggle({
        Title = "Enable Walk Speed",
        Default = false,
        Callback = function(state)
            -- Logic toggle walk speed (dari script kamu)
        end
    }):Slider({
        Title = "Set Walk Speed",
        Min = 16, Max = 300, Default = 16,
        Callback = function(val)
            _G.WalkSpeed = val
            -- Apply speed
        end
    })
    
    -- Tambahin section lain dari script kamu (Keybind, Setting, dll)
    -- ... (copy paste dari script kamu)

    -- Credits Tab
    local TabCredits = Window:Tab({Title = "Credits", Icon = "heart"})
    table.insert(hiddenTabs, TabCredits)
    -- Isi credits...

    -- Bypass Tab
    local TabBypass = Window:Tab({Title = "Bypass", Icon = "shield"})
    table.insert(hiddenTabs, TabBypass)
    -- Isi bypass...

    -- Hide Menu / Settings / Themes
    local TabSettings = Window:Tab({Title = "Settings", Icon = "settings"})
    table.insert(hiddenTabs, TabSettings)
    -- Isi themes dropdown, destroy GUI, dll...

    -- Tambahin semua tab lain (Account, Copy Avatar, dll) dan insert ke hiddenTabs
end

-- Buat semua tab dulu (tapi hidden)
createAllTabs()

-- Hide semua kecuali Auth
for _, tab in pairs(hiddenTabs) do
    tab:SetVisible(false)
end

-- Authentication Tab (selalu visible)
local TabAuth = Window:Tab({Title = "Authentication", Icon = "shield-check"})

-- Cek saved key dulu
local savedKey = loadKey()
if savedKey and verifyKey(savedKey) then
    _G.Verified = true
end

if _G.Verified then
    -- Langsung show semua tab
    for _, tab in pairs(hiddenTabs) do
        tab:SetVisible(true)
    end
    Window:SetTitle(CONFIG.HubName .. " | Auto Walk")
    -- Tampilan VIP welcome (copy dari script kamu)
else
    -- Setup key input
    TabAuth:Section({Title = "Key System"})
    -- Paragraph status, input, button verify (copy dari script kamu)
    -- Di callback verify kalau valid: _G.Verified = true, saveKey, show all tabs dengan loop SetVisible(true)
end

notify("AlippHUB", _G.Verified and "Welcome back VIP!" or "Enter key to unlock!", 5)
